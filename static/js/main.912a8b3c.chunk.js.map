{"version":3,"sources":["components/MovieItem.jsx","components/SortTabs.jsx","components/Pagination.jsx","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","key","id","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","SortTabs","nextProps","nextState","nextContext","sortBy","console","log","updateSortBy","updatePage","handleClick","value","event","preventDefault","getTabClass","href","Pagination","page","aria-label","App","updatedMovies","movies","filter","willWatchList","moviesWillWatch","push","updatedMoviesWillWatch","getMovies","fetch","process","then","response","json","data","results","prevProps","prevState","map","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.912a8b3c.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\twillWatch: false,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch } = this.props;\n\t\treturn (\n\t\t\t<div key={movie.id} className=\"card\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"card-img-top\"\n\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path}`}\n\t\t\t\t\talt=\"\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"card-body\">\n\t\t\t\t\t<h6 className=\"card-title\">{movie.title}</h6>\n\t\t\t\t\t<div className=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t\t<p className=\"mb-0\">Rating: {movie.vote_average}</p>\n\t\t\t\t\t\t{this.state.willWatch ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\twillWatch: false,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tremoveMovieFromWillWatch(movie.id);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRemove Will Watch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\twillWatch: true,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taddMovieToWillWatch(movie);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd Will Watch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tremoveMovieFromWillWatch(movie.id);\n\t\t\t\t\t\t\t\tremoveMovie(movie.id);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MovieItem;\n","import React from 'react';\r\n\r\nclass SortTabs extends React.Component {\r\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\r\n\t\treturn nextProps.sortBy !== this.props.sortBy;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"SortTabs render\");\r\n\r\n\t\tconst {sortBy, updateSortBy, updatePage} = this.props;\r\n\r\n\t\tconst handleClick = value => event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tupdateSortBy(value);\r\n\t\t\tupdatePage(1);\r\n\t\t}\r\n\r\n\t\tconst getTabClass = value => `nav-link${sortBy === value ? \" active\" : \"\"}`;\r\n\r\n\t\treturn (\r\n\t\t\t<ul className=\"tabs nav nav-pills\">\r\n\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t<a href=\"#\"\r\n\t\t\t\t\t\tclassName={getTabClass(\"popularity.desc\")}\r\n\t\t\t\t\t\tonClick={handleClick(\"popularity.desc\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPopularity desc\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t<a href=\"#\"\r\n\t\t\t\t\t\tclassName={getTabClass(\"revenue.desc\")}\r\n\t\t\t\t\t\tonClick={handleClick(\"revenue.desc\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRevenue desc\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t<a href=\"#\"\r\n\t\t\t\t\t\tclassName={getTabClass(\"vote_average.desc\")}\r\n\t\t\t\t\t\tonClick={handleClick(\"vote_average.desc\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVote avg desc\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SortTabs;\r\n","import React from 'react';\r\n\r\nclass Pagination extends React.Component {\r\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\r\n\t\treturn nextProps.page !== this.props.page;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log(\"Pagination render\");\r\n\r\n\t\tconst {page, updatePage} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<nav aria-label=\"Page navigation example\">\r\n\t\t\t\t<ul className=\"pagination\">\r\n\t\t\t\t\t<li className=\"page-item\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tupdatePage(page > 1 ? page - 1 : 1)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tPrevious\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"page-item\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"page-item\">\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tupdatePage(page + 1)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\nimport MovieItem from \"./MovieItem\";\nimport SortTabs from \"./SortTabs\";\nimport Pagination from \"./Pagination\";\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tmovies: [],\n\t\t\tmoviesWillWatch: [],\n\t\t\tsortBy: \"revenue.desc\",\n\t\t\tpage: 1,\n\t\t};\n\t}\n\n\tremoveMovie = id => {\n\t\tconst { movies } = this.state;\n\t\tconst updatedMovies = movies.filter(movie => {\n\t\t\treturn movie.id !== id;\n\t\t});\n\t\tthis.setState({\n\t\t\tmovies: updatedMovies,\n\t\t});\n\t};\n\n\taddMovieToWillWatch = movie => {\n\t\tconst willWatchList = [...this.state.moviesWillWatch];\n\t\twillWatchList.push(movie);\n\t\tthis.setState({ moviesWillWatch: willWatchList });\n\t};\n\n\tremoveMovieFromWillWatch = id => {\n\t\tconst updatedMoviesWillWatch = this.state.moviesWillWatch.filter(movie => {\n\t\t\treturn movie.id !== id;\n\t\t});\n\t\tthis.setState({\n\t\t\tmoviesWillWatch: updatedMoviesWillWatch,\n\t\t});\n\t};\n\n\tupdateSortBy = (sortBy) => {\n\t\tthis.setState({sortBy: sortBy})\n\t}\n\n\tupdatePage = (page) => {\n\t\tthis.setState({page: page})\n\t}\n\n\tgetMovies = () => {\n\t\tconsole.log(\"App getMovies\", this.state);\n\t\tfetch(\n\t\t\t`${process.env.REACT_APP_API_URL}/discover/movie?api_key=${process.env.REACT_APP_API_KEY3}&sort_by=${this.state.sortBy}&page=${this.state.page}`,\n\t\t)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => this.setState({ movies: data.results }));\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log(\"App didMount\");\n\t\tthis.getMovies();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconsole.log(\"App didUpdate\");\n\t\tif(this.state.sortBy !== prevState.sortBy || this.state.page !== prevState.page) {\n\t\t\tthis.getMovies();\n\t\t}\n\t}\n\n\trender() {\n\t\tconsole.log(\"App render\");\n\t\tconst { movies, moviesWillWatch } = this.state;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-9\">\n\t\t\t\t\t\t<div className=\"row mb-4\">\n\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t<SortTabs sortBy={this.state.sortBy} updateSortBy={this.updateSortBy} updatePage={this.updatePage} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row mb-4\">\n\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t<Pagination page={this.state.page} updatePage={this.updatePage} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t{movies.map(movie => (\n\t\t\t\t\t\t\t\t<div className=\"col-6 mb-4\" key={movie.id}>\n\t\t\t\t\t\t\t\t\t<MovieItem\n\t\t\t\t\t\t\t\t\t\tmovie={movie}\n\t\t\t\t\t\t\t\t\t\tremoveMovie={this.removeMovie}\n\t\t\t\t\t\t\t\t\t\taddMovieToWillWatch={this.addMovieToWillWatch}\n\t\t\t\t\t\t\t\t\t\tremoveMovieFromWillWatch={this.removeMovieFromWillWatch}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row mb-4\">\n\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t<Pagination page={this.state.page} updatePage={this.updatePage} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t<p>Will Watch: {moviesWillWatch.length}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import \"dotenv/config\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}